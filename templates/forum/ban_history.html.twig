{% extends 'forum/base.html.twig' %}

{% block page_classes 'forum-ban-history-page' %}
{% block title 'title.showing_ban_history_for_user_in_forum'|trans({
  '%user%': '/u/'~user.username,
  '%forum%': '/f/'~forum.name,
}) %}

{% block head %}
  {{ parent() }}
  {{ include('_includes/meta_pagination.html.twig', {pager: bans}, with_context=false) }}
{% endblock head %}

{% block body %}
  <h1 class="page-heading">{{ block('title') }}</h1>

  {% embed '_layouts/table_pagination.html.twig' with { items: bans } %}
    {% block header %}
      <th class="table__shrink">{{ 'label.action'|trans }}</th>
      <th>{{ 'label.reason'|trans }}</th>
      <th class="table__shrink">{{ 'label.banned'|trans }}</th>
      <th class="table__shrink">{{ 'label.expires'|trans }}</th>
    {% endblock header %}

    {% block row %}
      <td class="table__shrink">{{ (item.ban ? 'label.ban' : 'label.unban')|trans }}</td>
      <td>{{ item.reason }}</td>
      <td class="table__shrink">
        {% with {date: item.timestamp|localizeddate('long', 'short')} %}
          <time datetime="{{ item.timestamp|date('c') }}" class="relative-time" title="{{ date }}">
            {{- date -}}
          </time>
        {% endwith %}
      </td>
      <td class="table__shrink">
        {% if item.expiryTime %}
          {% with {date: item.expiryTime|localizeddate('long', 'short')} %}
            <time datetime="{{ item.expiryTime|date('c') }}" class="relative-time" title="{{ date }}">
              {{- date -}}
            </time>
          {% endwith %}
        {% else %}
          {{ 'label.never'|trans }}
        {% endif %}
      </td>
    {% endblock row %}
  {% endembed %}
{% endblock body %}
